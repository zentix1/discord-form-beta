<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Form Maker | Blaze Team</title>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind-like Utility Classes -->
    <style id="base-styles">
        * { box-sizing: border-box; margin: 0; padding: 0; }
        :root {
            --bg-primary: #2C2F33;
            --bg-secondary: #23272A;
            --text-primary: #ffffff;
            --accent-color: #7289DA;
            --accent-hover: #5E7ECE;
            --border-color: #4F545C;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 20px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .btn {
            background-color: var(--accent-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .btn:hover {
            background-color: var(--accent-hover);
            transform: translateY(-2px);
        }
        .form-field {
            background-color: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
        }
        .form-field input, .form-field select {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 8px;
            flex-grow: 1;
        }
        .field-actions {
            display: flex;
            gap: 10px;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 style="color: var(--accent-color); margin-bottom: 20px;">Discord Form Maker</h1>
            
            <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                <div class="field-actions">
                    <button id="add-text-field" class="btn">+ Text Input</button>
                    <button id="add-email-field" class="btn">+ Email Input</button>
                    <button id="add-textarea-field" class="btn">+ Textarea</button>
                </div>
            </div>
        </header>

        <main>
            <div id="form-fields">
                <!-- Dynamically added form fields will go here -->
            </div>

            <div style="display: flex; gap: 15px; margin-top: 20px;">
                <button id="save-form" class="btn">üíæ Save Form</button>
                <button id="publish-form" class="btn">üåê Publish Form</button>
            </div>
        </main>

        <div id="webhook-modal" class="modal hidden">
            <div class="modal-content">
                <h2 style="color: var(--accent-color); margin-bottom: 15px;">Publish Form</h2>
                <input 
                    type="url" 
                    id="webhook-url" 
                    placeholder="Enter Discord Webhook URL" 
                    style="width: 100%; padding: 10px; margin-bottom: 15px;"
                >
                <div style="display: flex; gap: 15px;">
                    <button id="confirm-webhook" class="btn">Confirm</button>
                    <button id="cancel-webhook" class="btn" style="background-color: #FF4D4D;">Cancel</button>
                </div>
            </div>
        </div>

        <footer style="text-align: center; margin-top: 30px; color: var(--border-color);">
            Powered by Blaze Team ¬© 2024
        </footer>
    </div>

    <script>
    class FormMaker {
        constructor() {
            this.formFields = [];
            this.publishedFormId = null;
            this.webhookUrl = null;

            this.initDOM();
            this.initEventListeners();
            this.loadSavedForm();
        }

        initDOM() {
            this.formFieldsContainer = document.getElementById('form-fields');
            this.addTextFieldBtn = document.getElementById('add-text-field');
            this.addEmailFieldBtn = document.getElementById('add-email-field');
            this.addTextareaFieldBtn = document.getElementById('add-textarea-field');
            this.saveFormBtn = document.getElementById('save-form');
            this.publishFormBtn = document.getElementById('publish-form');
            this.webhookModal = document.getElementById('webhook-modal');
            this.confirmWebhookBtn = document.getElementById('confirm-webhook');
            this.cancelWebhookBtn = document.getElementById('cancel-webhook');
            this.webhookUrlInput = document.getElementById('webhook-url');
        }

        initEventListeners() {
            this.addTextFieldBtn.addEventListener('click', () => this.addField('text'));
            this.addEmailFieldBtn.addEventListener('click', () => this.addField('email'));
            this.addTextareaFieldBtn.addEventListener('click', () => this.addField('textarea'));
            this.saveFormBtn.addEventListener('click', () => this.saveForm());
            this.publishFormBtn.addEventListener('click', () => this.showWebhookModal());
            this.confirmWebhookBtn.addEventListener('click', () => this.publishForm());
            this.cancelWebhookBtn.addEventListener('click', () => this.hideWebhookModal());
        }

        addField(type) {
            const field = {
                id: Date.now(),
                type,
                label: `${type.charAt(0).toUpperCase() + type.slice(1)} Input`,
                placeholder: `Enter ${type} here`
            };

            this.formFields.push(field);
            this.renderFormFields();
        }

        renderFormFields() {
            this.formFieldsContainer.innerHTML = '';
            this.formFields.forEach((field, index) => {
                const fieldElement = document.createElement('div');
                fieldElement.classList.add('form-field');
                fieldElement.innerHTML = `
                    <select class="field-type">
                        <option value="text" ${field.type === 'text' ? 'selected' : ''}>Text</option>
                        <option value="email" ${field.type === 'email' ? 'selected' : ''}>Email</option>
                        <option value="textarea" ${field.type === 'textarea' ? 'selected' : ''}>Textarea</option>
                    </select>
                    <input type="text" class="field-label" value="${field.label}">
                    <input type="text" class="field-placeholder" value="${field.placeholder}">
                    <div class="field-actions">
                        <button class="btn move-up" ${index === 0 ? 'disabled' : ''}>‚¨ÜÔ∏è</button>
                        <button class="btn move-down" ${index === this.formFields.length - 1 ? 'disabled' : ''}>‚¨áÔ∏è</button>
                        <button class="btn delete-field" style="background-color: #FF4D4D;">‚ùå</button>
                    </div>
                `;

                // Type change listener
                fieldElement.querySelector('.field-type').addEventListener('change', (e) => {
                    this.formFields[index].type = e.target.value;
                });

                // Label change listener
                fieldElement.querySelector('.field-label').addEventListener('input', (e) => {
                    this.formFields[index].label = e.target.value;
                });

                // Placeholder change listener
                fieldElement.querySelector('.field-placeholder').addEventListener('input', (e) => {
                    this.formFields[index].placeholder = e.target.value;
                });

                // Move up/down listeners
                fieldElement.querySelector('.move-up')?.addEventListener('click', () => this.moveField(index, -1));
                fieldElement.querySelector('.move-down')?.addEventListener('click', () => this.moveField(index, 1));

                // Delete field listener
                fieldElement.querySelector('.delete-field').addEventListener('click', () => this.deleteField(index));

                this.formFieldsContainer.appendChild(fieldElement);
            });
        }

        moveField(index, direction) {
            const newIndex = index + direction;
            if (newIndex >= 0 && newIndex < this.formFields.length) {
                [this.formFields[index], this.formFields[newIndex]] = [this.formFields[newIndex], this.formFields[index]];
                this.renderFormFields();
            }
        }

        deleteField(index) {
            this.formFields.splice(index, 1);
            this.renderFormFields();
        }

        saveForm() {
            try {
                localStorage.setItem('blazeFormData', JSON.stringify({
                    formFields: this.formFields,
                    publishedFormId: this.publishedFormId,
                    webhookUrl: this.webhookUrl
                }));
                alert('Form saved successfully! üíæ');
            } catch (error) {
                alert('Failed to save form. Storage might be full.');
            }
        }

        loadSavedForm() {
            try {
                const savedData = localStorage.getItem('blazeFormData');
                if (savedData) {
                    const { formFields, publishedFormId, webhookUrl } = JSON.parse(savedData);
                    this.formFields = formFields;
                    this.publishedFormId = publishedFormId;
                    this.webhookUrl = webhookUrl;
                    this.renderFormFields();
                }
            } catch (error) {
                alert('Error loading saved form.');
            }
        }

        showWebhookModal() {
            this.webhookModal.classList.remove('hidden');
        }

        hideWebhookModal() {
            this.webhookModal.classList.add('hidden');
        }

        publishForm() {
            const webhookUrl = this.webhookUrlInput.value.trim();
            if (!webhookUrl) {
                alert('Please enter a valid webhook URL');
                return;
            }

            this.publishedFormId = this.generateUniqueId();
            this.webhookUrl = webhookUrl;
            this.saveForm();

            const publishedLink = `https://form.blazelabs.online/${this.publishedFormId}`;
            alert(`Form published! üéâ\n\nYour unique link is:\n${publishedLink}`);
            this.hideWebhookModal();
        }

        generateUniqueId() {
            return Math.random().toString(36).substring(2, 10);
        }
    }

    // Initialize FormMaker on page load
    document.addEventListener('DOMContentLoaded', () => {
        new FormMaker();
    });
    </script>
</body>
</html>
